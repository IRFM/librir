




install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_NAME}
	DESTINATION ${CMAKE_INSTALL_PREFIX}/python
	FILES_MATCHING PATTERN "*.py"
)

install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/setup.py ${PROJECT_SOURCE_DIR}/CMakeLists.txt ${PROJECT_SOURCE_DIR}/README.md
		DESTINATION ${CMAKE_INSTALL_PREFIX}/python
)

install(DIRECTORY $${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_NAME}/LICENSES 
		DESTINATION ${CMAKE_INSTALL_PREFIX}/python/
		FILES_MATCHING PATTERN "*.txt"
)

install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_NAME}/LICENSE 
		DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}
)

# install(TARGETS ${LIBRIR_TARGETS} RUNTIME 
# 		DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs
# )
install(CODE "set(FFMPEG_LIB_DIR \"${FFMPEG_LIB_DIR}\")")
install(CODE "set(FFMPEG_INCLUDE_DIR \"${FFMPEG_INCLUDE_DIR}\")")
install(CODE "set(FFMPEG_LIBS \"${FFMPEG_LIBS}\")")
install(CODE "set(ADDITIONAL_FFMPEG_LIBS \"${ADDITIONAL_FFMPEG_LIBS}\")")
install(CODE "set(FFMPEG_PREFIX \"${FFMPEG_PREFIX}\")")
install(CODE "set(FFMPEG_SUFFIX \"${FFMPEG_SUFFIX}\")")
install(CODE "set(COMPLETE_FFMPEG_LIBS \"${COMPLETE_FFMPEG_LIBS}\")")
install(CODE "set(FFMPEG_INSTALL_DIR \"${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs\")")
install(SCRIPT ../cpp/video_io/InstallFfmpeg.cmake)

install(IMPORTED_RUNTIME_ARTIFACTS ${LIBRIR_TARGETS} DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs)
# install(FILES $<TARGET_RUNTIME_DLLS:video_io> DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs)
# install(FILES ${FFMPEG_DLLS_DEPEDENCIES} DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs)

# if (MSVC OR WIN32)
# install(DIRECTORY ${FFMPEG_LIB_DIR}/  DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs FILES_MATCHING PATTERN "*.dll")
# else()
# install(DIRECTORY ${FFMPEG_LIB_DIR}/  DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/libs FILES_MATCHING PATTERN "*.so*")
# endif()
# message(STATUS "FFMPEG_LIB_DIR : ${FFMPEG_LIB_DIR}")
# install(TARGETS ${LIBRIR_TARGETS} 
# 		RUNTIME_DEPENDENCIES 
# 		PRE_INCLUDE_REGEXES "*av*.dll"
# 		PRE_EXCLUDE_REGEXES "api-ms-" "ext-ms-"
# 		POST_EXCLUDE_REGEXES ".*system32/.*\\.dll"
# 		DESTINATION ${CMAKE_INSTALL_PREFIX}/python/${PROJECT_NAME}/${PROJECT_NAME}/libs
# )